## 1.初始化项目 
语法：npm init -y

##在backage.json中修改部分代码

```js
"scripts": {
    "start":"nodemon app.js",
    "test": "echo \"Error: no test specified\" && exit 1"
  },
```

##2.创建后端文件,写入基本内容
文件格式：app.js

```js
// 1.导入包
// 1.1 导入express框架
const express = require('express');
// 1.2 导入path模块
const path = require('path');

// 2.设置包
// 2.1 使用express方法创建Web服务
const app = express();
// 2.2 设置静态资源目录
app.use(express.static(path.join(__dirname, 'public')));

// 3.处理请求

// 4.指定端口启动服务
app.listen(3000, () => {
  console.log("服务器已启动,请打开 http://localhost:3000");
})
```


##3.装包
npm i express 
npm i art-template
npm i express-art-template

4.路由三步走
4.1挂载路由------>app.js

```js
// 3.处理请求(挂载路由)
app.use('./user',userRouter)
app.use('./article',articleRouter)
app.use(indexRouter)
```

4.2引入路由------>app.js

```js
//1.3引入关于用户的路由
const User=require('./routes/userRouter')
//1.4引入关于文章的路由
const Article=require('./routes/articleRouter')
//1.5引入登录页面路由
const indexRouter=require('./routes/indexRouter')
```

4.3定义路由

indexRouter后台管理系统/

```js
//1引入express
const express=require('express')

//2使用express方法创建路由
const indexRouter=express.Router()

//3创建路由
indexRouter.get('./login',(req,res)=>{
    res.send('后台管理系统首页')
})

//4导出
module.exports=indexRouter
```




articleRouter文章
文章列表
文章管理

```js
//1引入express
const express=require('express')

//2使用express方法创建路由
const articleRouter=express.Router()

//3创建路由
articleRouter.get('./',(req,res)=>{
    res.send('文章列表页面')
})

articleRouter.get('./edit',(req,res)=>{
    res.send('文章编辑')
})

//4导出
module.exports=articleRouter
```

userRouter用户
用户列表
用户管理(编辑)

```js
//1引入express
const express=require('express')

//2使用express方法创建路由
const userRouter=express.Router()

//3创建路由
userRouter.get('./',(req,res)=>{
    res.send('用户列表')
})

userRouter.get('./edit',(req,res)=>{
    res.send('用户编辑')
})

//4导出
module.exports=userRouter
```

//基本思路补充
后台管理系统/
用户
用户列表/user/
解释为什么是/user/:app.js中有：app.use('./user',userRouter)，然后再router的userRouter.js中有：userRouter.get('./',(req,res)=>{}。所以
用户管理（编辑）/user/edit

文章
文章列表/article/
文章管理（编辑）/article/edit


5.模板的设置
5.1先在app.js中引入所需文件

```js
//2.3模板的设置
//2.3.1用的模板引擎是art-templte
app.engine('art',require('express-art-template'))
//2.3.2设置模板的目录
app.set('views',path.join(__dirname,'views'))
//2/3.3模板的后缀
app.set('view engine','html')

```

5.2将数据添加到页面中

```js
// 1.引入express
const express = require('express');
// 2.使用express的方法来创建路由

const indexRouter = express.Router();
// 3.创建路由
indexRouter.get('/', (req, res) => {
  // res.send("后台管理系统首页")
  res.render('login')
})
// 4.导出
module.exports = indexRouter;
```

```js
//1引入express
const express=require('express')

//2使用express方法创建路由
const userRouter=express.Router()

//3创建路由
userRouter.get('/',(req,res)=>{
    //res.send('用户列表')
    res.render('user')
})

userRouter.get('/edit',(req,res)=>{
    //res.send('用户编辑')
    res.render('user-edit')
})

//4导出
module.exports=userRouter
```

```js
//1引入express
const express=require('express')

//2使用express方法创建路由
const articleRouter=express.Router()

//3创建路由
articleRouter.get('/',(req,res)=>{
    //res.send('文章列表页面')
    res.render('article')
})

articleRouter.get('/edit',(req,res)=>{
    //res.send('文章编辑')
    res.render('article-edit')
})

//4导出
module.exports=articleRouter
```





6.修改广大HTML中的引入问题
将上下两部分统统修改为

```js
  <link rel="stylesheet" href="/lib/bootstrap-3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/base.css">

 <script src="lib/jquery/jquery-3.5.1.js"></script>
    <script src="lib/bootstrap-3.3.7/js/bootstrap.min.js"></script>
```

7.将重复数据提出----->头部和侧边栏
7.1将views中的部分相同数据提出放入common文件夹的header.art中


```js
<!-- 头部 -->
    <div class="header">
    	<!-- 网站标志 -->
        <div class="logo fl">
          黑马程序员 <i>ITHEIMA</i>
        </div>
        <!-- /网站标志 -->
        <!-- 用户信息 -->
        <div class="info">
            <div class="profile dropdown fr">
                <span class="btn dropdown-toggle" data-toggle="dropdown">
					admin
					<span class="caret"></span>
                </span>
                <ul class="dropdown-menu">
                    <li><a href="user-edit.html">个人资料</a></li>
                    <li><a href="#">退出登录</a></li>
                </ul>
            </div>
        </div>
        <!-- /用户信息 -->
    </div>
    <!-- /头部 -->
```

将数据引出后将重复数据在原代码中删除，换入

```js
  {{include'./common/header.art'}}
```


7.2将views中的部分相同数据提出放入common文件夹的aside.art中

```js
<div class="aside fl">
            <ul class="menu list-unstyled">
                <li>
                    <a class="item active" href="user.html">
						<span class="glyphicon glyphicon-user"></span>
						用户管理
					</a>
                </li>
                <li>
                    <a class="item" href="article.html">
			  			<span class="glyphicon glyphicon-th-list"></span>
			  			文章管理
			  		</a>
                </li>
            </ul>
            <div class="cprt">
                Powered by <a href="http://www.itheima.com/" target="_blank">黑马程序员</a>
            </div>
        </div>

```

稍作修改

```js
<div class="aside fl">
            <ul class="menu list-unstyled">
                <li>
                    <a class="item active" href="/user">
						<span class="glyphicon glyphicon-user"></span>
						用户管理
					</a>
                </li>
                <li>
                    <a class="item" href="/article">
			  			<span class="glyphicon glyphicon-th-list"></span>
			  			文章管理
			  		</a>
                </li>
            </ul>
            <div class="cprt">
                Powered by <a href="http://www.itheima.com/" target="_blank">黑马程序员</a>
            </div>
        </div>
```

将数据引出后将重复数据在原代码中删除，换入

```js
 {{include'./common/aside.art'}} 
```

# 插入如果想要将common中的art文件修改为彩色则在此修改



```js
//2.3.1用的模板引擎是art-templte
app.engine('art', require('express-art-template'));
//2.3.2设置模板的目录
app.set('views', path.join(__dirname, 'views'));
//2/3.3模板的后缀
app.set('view engine', 'html');

```

```js
//2.3.1用的模板引擎是art-templte
app.engine('html', require('express-art-template'));
```